<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VCarClube - Serviços Automotivos</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/drawer.css">
    <link rel="icon" href="img/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>
<body>
    <!-- Header será inserido via JavaScript -->


    <!-- Conteúdo Principal -->
    <main class="main-content">
        <!-- Barra de Pesquisa -->
        <div class="search-container">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Buscar serviços, oficinas...">
            </div>
        </div>

        <!-- Card de Economia -->
        <section class="savings-card-container">
            <div class="savings-card">
                <div class="savings-icon">
                    <i class="fas fa-piggy-bank"></i>
                </div>
                <div class="savings-info">
                    <div class="savings-title">Você já economizou</div>
                    <div class="savings-amount">R$ 838,72</div>
                    <div class="savings-details">Em 4 atendimentos na nossa rede, com total segurança e certeza de não ser enganado.</div>
                </div>
            </div>
        </section>

        <!-- Banner Principal - Carrossel -->
        <section class="banner-section">
            <div class="swiper banner-swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="banner">
                            <img src="https://i.pinimg.com/736x/a4/6a/f7/a46af7840d1e7e31b9bc701aabf9145e.jpg" alt="Promoção VCarClube">
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="banner">
                            <img src="https://i.pinimg.com/736x/a4/6a/f7/a46af7840d1e7e31b9bc701aabf9145e.jpg" alt="Serviços Automotivos">
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="banner">
                            <img src="https://i.pinimg.com/736x/a4/6a/f7/a46af7840d1e7e31b9bc701aabf9145e.jpg" alt="Reparos Automotivos">
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </section>

        <!-- Categorias - Carrossel -->
        <section class="categories-section">
            <h2>Categorias</h2>
            <div class="swiper categories-swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                            <span>Oficinas</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-oil-can"></i>
                            </div>
                            <span>Troca de Óleo</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-shower"></i>
                            </div>
                            <span>Lava Jato</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-truck-pickup"></i>
                            </div>
                            <span>Guincho</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-user-cog"></i>
                            </div>
                            <span>Mecânicos</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-car-battery"></i>
                            </div>
                            <span>Baterias</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="category-item">
                            <div class="category-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <span>Revisão</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Serviços Próximos -->
        <section class="services-section">
            <div class="section-header">
                <h2>Serviços Próximos</h2>
                <span class="view-all">Ver todos</span>
            </div>
            <div class="services-container" id="featured-services">
                <!-- Os cards de serviços serão gerados dinamicamente via JavaScript -->
            </div>
        </section>

        <!-- Mecânicos em Destaque -->
        <section class="featured-section">
            <div class="section-header">
                <h2>Mecânicos em Destaque</h2>
                <span class="view-all">Ver todos</span>
            </div>
            <div class="services-container" id="featured-mechanics">
                <!-- Os cards de mecânicos serão gerados dinamicamente via JavaScript -->
            </div>
        </section>
    </main>

    <!-- Modal de Agendamento -->
    <div class="modal" id="bookingModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-drag-indicator"><div class="drag-handle"></div></div>
            <div class="modal-header">
                <h2 class="modal-title">Agendar Serviço</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="service-details">
                    <img src="https://source.unsplash.com/random/100x100/?auto,repair" alt="Serviço">
                    <div>
                        <h3 id="modalServiceName">Nome do Serviço</h3>
                        <p id="modalServiceType">Tipo de Serviço</p>
                    </div>
                </div>
                <form id="bookingForm">
                    <div class="form-group">
                        <label>Data</label>
                        <input type="hidden" id="serviceDate" required>
                        <div class="date-selector-container">
                            <div class="swiper date-swiper">
                                <div class="swiper-wrapper" id="dateSwiperWrapper">
                                    <!-- Datas serão geradas via JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Horário</label>
                        <input type="hidden" id="serviceTime" required>
                        <div class="time-selector-container">
                            <div class="swiper time-swiper">
                                <div class="swiper-wrapper" id="timeSwiperWrapper">
                                    <!-- Horários serão gerados via JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="vehicleSelect">Selecione seu veículo</label>
                        <div class="custom-select-wrapper">
                            <select id="vehicleSelect" class="custom-select" required>
                                <option value="" disabled selected>Selecione um veículo</option>
                                <option value="1">Fiat Uno - ABC1234</option>
                                <option value="2">Honda Civic - DEF5678</option>
                                <option value="3">Toyota Corolla - GHI9012</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="serviceTypeSelect">Motivo do agendamento</label>
                        <div class="custom-select-wrapper">
                            <select id="serviceTypeSelect" class="custom-select" required>
                                <option value="" disabled selected>Selecione o motivo</option>
                                <option value="orcamento">Orçamento</option>
                                <option value="troca_oleo">Troca de óleo</option>
                                <option value="balanceamento">Balanceamento</option>
                                <option value="alinhamento">Alinhamento</option>
                                <option value="revisao">Revisão</option>
                                <option value="freios">Manutenção de freios</option>
                                <option value="outro">Outro</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group" id="localAtendimentoGroup" style="display: none;">
                        <label>Local de atendimento</label>
                        <div class="service-location-options">
                            <div class="location-option" id="optEstabelecimento">
                                <input type="radio" id="localEstabelecimento" name="localAtendimento" value="estabelecimento" checked>
                                <label for="localEstabelecimento" class="location-label" style="display: flex;">
                                    <i class="fas fa-store"></i>
                                    <span>Estabelecimento</span>
                                </label>
                            </div>
                            <div class="location-option" id="optDomicilio">
                                <input type="radio" id="localDomicilio" name="localAtendimento" value="domicilio">
                                <label for="localDomicilio" class="location-label" style="display: flex;">
                                    <i class="fas fa-home"></i>
                                    <span>Meu local</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div id="enderecoDomicilioGroup" style="display: none;">
                        <div class="form-group" id="localizacaoOpcoes">
                            <label>Tipo de localização</label>
                            <div class="service-location-options">
                                <div class="location-option" style="width: 100%;">
                                    <input type="radio" id="localizacaoAtual" name="tipoLocalizacao" value="atual" checked>
                                    <label for="localizacaoAtual" class="location-label" style="width: 100%; display: flex;">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span>Localização atual</span>
                                    </label>
                                </div>
                                <div class="location-option" style="width: 100%;">
                                    <input type="radio" id="localizacaoFixa" name="tipoLocalizacao" value="fixa">
                                    <label for="localizacaoFixa" class="location-label" style="width: 100%; display: flex;">
                                        <i class="fas fa-map-pin"></i>
                                        <span>Endereço fixo</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="localizacaoAtualGroup" style="display: block;">
                            <div class="form-group">
                                <div id="mapPreview" style="height: 150px; background-color: #f0f0f0; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                                    <span>Carregando sua localização...</span>
                                </div>
                                <div class="form-group">
                                    <label for="pontoReferencia">Ponto de referência</label>
                                    <input type="text" id="pontoReferencia" class="form-control" placeholder="Ex: Próximo ao mercado, portão azul, etc.">
                                </div>
                            </div>
                        </div>
                        
                        <div id="localizacaoFixaGroup" style="display: none;">
                            <div class="form-group">
                                <label for="cep">CEP</label>
                                <input type="text" id="cep" class="form-control" placeholder="00000-000" maxlength="9">
                            </div>
                            <div class="form-group">
                                <label for="rua">Rua</label>
                                <input type="text" id="rua" class="form-control" placeholder="Nome da rua">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="numero">Número</label>
                                    <input type="text" id="numero" class="form-control" placeholder="123">
                                </div>
                                <div class="form-group">
                                    <label for="complemento">Complemento</label>
                                    <input type="text" id="complemento" class="form-control" placeholder="Apto, Bloco, etc">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bairro">Bairro</label>
                                <input type="text" id="bairro" class="form-control" placeholder="Nome do bairro">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cidade">Cidade</label>
                                    <input type="text" id="cidade" class="form-control" placeholder="Nome da cidade">
                                </div>
                                <div class="form-group">
                                    <label for="estado">Estado</label>
                                    <input type="text" id="estado" class="form-control" placeholder="UF" maxlength="2">
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="latitude">
                        <input type="hidden" id="longitude">
                    </div>
                </form>
            </div>
            <div class="booking-submit-btn">
                <button type="submit" form="bookingForm" class="btn-primary">Confirmar Agendamento</button>
            </div>
        </div>
    </div>

    <!-- Bottom Tab Navigation será inserido via JavaScript -->

    <!-- Menu Drawer será inserido via JavaScript -->

    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="js/components.js"></script>
    <script src="js/drawer.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/establishments.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Inicializar a renderização dos estabelecimentos quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', () => {
            // Renderizar serviços em destaque
            EstablishmentsModule.renderEstablishments('featured-services');
            
            // Renderizar mecânicos em destaque (filtrar por categoria 'Mecânico')
            EstablishmentsModule.renderEstablishments('featured-mechanics', 'Mecânico');
        });
    </script>
</body>
</html>